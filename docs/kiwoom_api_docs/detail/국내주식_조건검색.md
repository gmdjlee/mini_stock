# 국내주식 > 조건검색

이 문서는 조건검색 관련 API 4개를 포함합니다.

## API 목록

| API ID | API 명 | URL | 모의투자 | WebSocket |
|--------|--------|-----|----------|-----------|
| ka10171 | 조건검색 목록조회 | /api/dostk/websocket | ✓ | ✓ |
| ka10172 | 조건검색 요청 일반 | /api/dostk/websocket | ✓ | ✓ |
| ka10173 | 조건검색 요청 실시간 | /api/dostk/websocket | ✓ | ✓ |
| ka10174 | 조건검색 실시간 해제 | /api/dostk/websocket | ✓ | ✓ |

---

## 조건검색 목록조회

**API ID**: `ka10171`

### 기본 정보

- Method: `POST`
- URL: `/api/dostk/websocket`
- 모의투자: 지원
- WebSocket: 지원

### Request Parameters

```python
params = {
    "trnm": "",  # Required - TR명
    "return_code": "",  # Optional - 결과코드
    "return_msg": "",  # Optional - 결과메시지
    "trnm": "",  # Optional - 서비스명
    "seq": "",  # Optional - 조건검색식 일련번호
    "name": "",  # Optional - 조건검색식 명
}
```

### Request Example

```json
{"trnm": "CNSRLST"}
```

---

## 조건검색 요청 일반

**API ID**: `ka10172`

### 기본 정보

- Method: `POST`
- URL: `/api/dostk/websocket`
- 모의투자: 지원
- WebSocket: 지원

### Request Parameters

```python
params = {
    "trnm": "",  # Required - 서비스명
    "seq": "",  # Required - 조건검색식 일련번호
    "search_type": "",  # Required - 조회타입
    "stex_tp": "",  # Required - 거래소구분
    "cont_yn": "",  # Optional - 연속조회여부
    "next_key": "",  # Optional - 연속조회키
    "return_code": "",  # Optional - 결과코드
    "return_msg": "",  # Optional - 결과메시지
    "trnm": "",  # Optional - 서비스명
    "seq": "",  # Optional - 조건검색식 일련번호
    "cont_yn": "",  # Optional - 연속조회여부
    "next_key": "",  # Optional - 연속조회키
    "9001": "",  # Optional - 종목코드
    "302": "",  # Optional - 종목명
    "10": "",  # Optional - 현재가
    "25": "",  # Optional - 전일대비기호
    "11": "",  # Optional - 전일대비
    "12": "",  # Optional - 등락율
    "13": "",  # Optional - 누적거래량
    "16": "",  # Optional - 시가
    "17": "",  # Optional - 고가
    "18": "",  # Optional - 저가
}
```

### Request Example

```json
{"trnm": "CNSRREQ","seq": "4","search_type": "0","stex_tp": "K","cont_yn": "N","next_key": ""}
```

---

## 조건검색 요청 실시간

**API ID**: `ka10173`

### 기본 정보

- Method: `POST`
- URL: `/api/dostk/websocket`
- 모의투자: 지원
- WebSocket: 지원

### Request Parameters

```python
params = {
    "trnm": "",  # Required - 서비스명
    "seq": "",  # Required - 조건검색식 일련번호
    "search_type": "",  # Required - 조회타입
    "stex_tp": "",  # Required - 거래소구분
    "return_code": "",  # Optional - 결과코드
    "return_msg": "",  # Optional - 결과메시지
    "trnm": "",  # Optional - 서비스명
    "seq": "",  # Optional - 조건검색식 일련번호
    "jmcode": "",  # Optional - 종목코드
    "trnm": "",  # Required - 서비스명
    "type": "",  # Required - 실시간 항목
    "name": "",  # Required - 실시간 항목명
}
```

### Request Example

```json
{"trnm": "CNSRREQ","seq": "4","search_type": "1","stex_tp": "K"}
```

---

## 조건검색 실시간 해제

**API ID**: `ka10174`

### 기본 정보

- Method: `POST`
- URL: `/api/dostk/websocket`
- 모의투자: 지원
- WebSocket: 지원

### Request Parameters

```python
params = {
    "trnm": "",  # Required - 서비스명
    "seq": "",  # Required - 조건검색식 일련번호
    "return_code": "",  # Required - 결과코드
    "return_msg": "",  # Required - 결과메시지
    "trnm": "",  # Required - 서비스명
    "seq": "",  # Required - 조건검색식 일련번호
}
```

### Request Example

```json
{"trnm": "CNSRCLR","seq": "1"}
```

---
